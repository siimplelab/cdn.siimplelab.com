/*!
 * fullpage.js Parallax Effect Extension 0.1.7 for fullPage.js v3
 * https://github.com/alvarotrigo/fullPage.js
 *
 * @license This code has been bought from www.alvarotrigo.com/fullPage/extensions/ and it is not free to use or distribute.
 * Copyright (C) 2016 alvarotrigo.com - A project by Alvaro Trigo
 */
window.fp_parallaxExtension=function(){var f,d,n,c,o,u,s,l,e,t,i=this,p=fp_utils,v=fp_utils.$,a=fullpage_api.getFullpageData(),m=a.options,g=a.internals,r=".fullpage-wrapper",x="active",h="."+x,E=".fp-section",b=E+h,S="fp-slide",y="."+S,L=y+h,w="fp-notransition",A=".fp-bg",M="reveal",N="cover",R="fp-parallax-stylesheet",T="fp-parallax-transitions",I="#"+T,C="fp-parallax-transition-class",z="#"+C,O=0,B=!1,H=!1,F=!0,k=!0,q=!1,W=!1,_=!1,V=!1,G=!1,X=!0===m.parallax||"slides"===m.parallax,Y=p.closest,D=p.addClass,P=p.removeClass,U=p.hasClass,$=p.css,j=p.nextAll,J=p.prevAll;function K(e){return{cover:{offsetNormal:e?0:d},reveal:{offsetNormal:e?-d:0}}}function Q(e){return{cover:{offsetNormal:e?0:n},reveal:{offsetNormal:e?-n:0}}}function Z(e){return e*c/100}function ee(e){return e*o/100}function te(){return window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth}function ne(){s&&ye(v(b).length?v(b)[0]:v(E)[0],0)}function oe(){var e=v(b).length?v(b)[0]:v(E)[0],t=f===M,n=t?j(e):J(e),o=t?J(e):j(e);n.forEach(function(e){ye(e,K(t)[f].offsetNormal,"silent")}),o.forEach(function(e){ye(e,0,"silent")}),X&&v(E).forEach(function(e){v(y,e).length&&ie(v(L,e).length?v(L,e)[0]:v(y,e)[0])})}function ie(e){var t=f===M,n=t?j(e):J(e),o=t?J(e):j(e);n.forEach(function(e){Le(e,Q(t)[f].offsetNormal,"silent")}),o.forEach(function(e){Le(e,0,"silent")})}function ae(e){var t=e.detail;o=te(),t&&!m.scrollBar?(me(),ge()):xe()}function re(e){i.destroy(),q=!1}function le(){v(".fp-scrollable").forEach(function(e){var t=v(A,e)[0];(v(".fp-scrollable",e).length||U(e,"fp-scrollable"))&&null!=t&&p.prependTo(e.parentNode,t)})}function se(e){e.detail?xe():V=!0}function fe(e){e.detail,v(A).forEach(function(e){e.setAttribute("data-final-x",0),e.setAttribute("data-final-y",0)}),u=v(E),oe()}function de(e){e.detail.leavingSection,e.detail.destination,H=G=!0}function ce(e){var t=e.detail.leavingSection,n=e.detail.destination;ye(t,K(B)[f].offsetNormal,"silent");var o=v(y,t);o.length&&o.forEach(function(e){e!==n&&ye(e,0,"silent")}),i.afterSlideLoads(v(y,t)[0]),G=!1}function ue(e){var t=e.detail;W=!0,ie("left"===t.xMovement?v(y,v(b)[0])[0]:p.last(v(y,v(b)[0]))),setTimeout(function(){i.applyHorizontal(t)})}function pe(e){var t=e.detail;_=!0,oe(),setTimeout(function(){i.apply(t)})}function ve(){q&&(m.scrollBar||!m.autoScrolling||g.usingExtension("dragAndMove"))&&function(){var e=g.usingExtension("dragAndMove")?Math.abs(window.fp_dragAndMoveExtension.getCurrentScroll()):p.getScrollTop(),t=e<O,n=p.index(v(b)[0],E),o=c+e;O=e;for(var i=0;i<u.length;++i){var a=u[i],r=c+a.offsetTop;!t&&a.offsetTop<=o?n=i:t&&e<=r&&a.offsetTop<e&&u.length>i+1&&(n=i+1)}var l=(c-(u[n].offsetTop-e))*d/c;f!==M&&(n-=1);var s=f!==M?l:-d+l;-1<n&&ye(v(E)[n],s),0<=n-1&&ye(u[n-1],K(!1)[f].offsetNormal),void 0!==u[n+1]&&ye(u[n+1],K(!0)[f].offsetNormal)}()}function me(){var e=".fp-bg{transition: transform "+m.scrollingSpeed+"ms "+m.easingcss3+";}.fp-slide, .fp-section{transition: background-position "+m.scrollingSpeed+"ms "+m.easingcss3+";}";m.autoScrolling&&!m.scrollBar&&we(T,e)}function ge(){var e=".fp-bg-animate{ transition: all "+m.scrollingSpeed+"ms "+m.easingcss3+"}";we(C,e)}function xe(){p.remove(v(I))}function he(){clearTimeout(t),t=setTimeout(Ee,350)}function Ee(){c=p.getWindowHeight(),o=te(),d=Z(m.parallaxOptions.percentage),n=ee(m.parallaxOptions.percentage),ne(),oe(),be()}function be(){$(v(A),{height:c+"px"})}function Se(e){return Math.round(2*e)/2}function ye(e,t,n){var o=Se(t),i=v(y,e);if(i.length){var a=v(L,e)[0];e=null!=a?a:i[0]}if(s)$(e,{"background-position-y":o+"px"});else if(!U(e,S)||U(e,x)||void 0!==n){var r=v(A,e)[0];if(r){var l=null!=r.getAttribute("data-final-x")?r.getAttribute("data-final-x"):0;p.toggleClass(r,w,void 0!==n),$(r,{transform:"translateX("+l+"px) translateY("+o+"px)"}),r.setAttribute("data-final-x",l),r.setAttribute("data-final-y",o)}}}function Le(e,t,n){var o=Se(t),i=s?e:v(A,e)[0];if(i)if(!m.scrollBar&&m.autoScrolling||D(i,"fp-bg-animate"),s)p.toggleClass(i,w,void 0!==n),$(i,{"background-position-x":o+"px"});else{var a=0,r=i.getAttribute("data-final-y");"none"!==r&&null!=r&&(a=r),p.toggleClass(i,w,void 0!==n||G),$(i,{transform:"translateX("+o+"px) translateY("+a+"px)"}),i.setAttribute("data-final-x",o),i.setAttribute("data-final-y",a)}}function we(e,t){if(!v("#"+e).length){var n=document.head||document.getElementsByTagName("head")[0];p.appendTo((o=e,i=t,(a=document.createElement("style")).type="text/css",a.id=o,a.styleSheet?a.styleSheet.cssText=i:a.appendChild(document.createTextNode(i)),a),n)}var o,i,a}e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.requestAnimationFrame=e,i.apply=function(e){if(V&&me(),!e.localIsResizing&&!m.scrollBar&&m.autoScrolling)if(("up"===e.yMovement||e.sectionIndex)&&(!e.isMovementUp||e.leavingSection-1)||!m.continuousVertical||_){var t=K(B="up"===e.yMovement)[f].offsetNormal;ye(v(E)[e.sectionIndex],0),ye(v(E)[e.leavingSection-1],t),F=1===Math.abs(e.leavingSection-1-e.sectionIndex);for(var n=Math.min(e.leavingSection-1,e.sectionIndex)+1;n<Math.max(e.leavingSection-1,e.sectionIndex);n++)ye(v(E)[n],0,"silent")}else;},i.applyHorizontal=function(e){if(X&&(!e.localIsResizing||G)&&"none"!=e.xMovement)if((l=void 0!==e.direction&&e.direction!==e.xMovement)&&m.continuousHorizontal&&!W)l=!1;else{var t=Q(H=l?"left"===e.direction:"left"===e.xMovement)[f].offsetNormal;if(Le(v(y,e.section)[e.slideIndex],0),Le(v(y,e.section)[e.prevSlideIndex],t),!(k=1===Math.abs(e.slideIndex-e.prevSlideIndex))&&!G)for(var n=Math.min(e.slideIndex,e.prevSlideIndex)+1;n<Math.max(e.slideIndex,e.prevSlideIndex);n++)Le(v(y,e.section)[n],0,"silent")}},i.init=function(){var e;c=p.getWindowHeight(),o=te(),f=m.parallaxOptions.type,d=Z(m.parallaxOptions.percentage),n=ee(m.parallaxOptions.percentage),u=v(m.sectionSelector),s="background"===m.parallaxOptions.property,be(),(e=v(r)[0]).addEventListener("setAutoScrolling",ae),e.addEventListener("destroy",re),e.addEventListener("onScroll",ve),e.addEventListener("afterResponsive",fe),e.addEventListener("onGrab",se),e.addEventListener("onContinuousVertical",pe),e.addEventListener("onResize",he),e.addEventListener("afterRender",le),e.addEventListener("afterRebuild",le),e.addEventListener("onResetSliders",de),X&&e.addEventListener("onContinuosHorizontal",ue),e.addEventListener("onEndResetSliders",ce),s||(we(R,".fp-bg{top:0;bottom:0;width: 100%;position:absolute;z-index: -1;}.fp-section, .fp-slide, .fp-section.fp-table, .fp-slide.fp-table, .fp-section .fp-tableCell, .fp-slide .fp-tableCell {position:relative;overflow: hidden;}"),me()),ge(),ne(),oe(),q=!0},i.destroy=function(){xe(),p.remove(v(z)),d=Z(0),n=ee(0),v(E).length&&(oe(),p.css(v(A),{height:""})),clearTimeout(t);var e=v(r)[0];e&&(e.removeEventListener("setAutoScrolling",ae),e.removeEventListener("destroy",re),e.removeEventListener("onScroll",ve),e.removeEventListener("afterResponsive",fe),e.removeEventListener("onGrab",se),e.removeEventListener("onContinuousVertical",pe),e.removeEventListener("onResize",he),e.removeEventListener("afterRender",le),e.removeEventListener("afterRebuild",le),e.removeEventListener("onResetSliders",de),X&&e.removeEventListener("onContinuosHorizontal",ue),e.removeEventListener("onEndResetSliders",ce))},i.setOption=function(e,t){"offset"===e?(m.parallaxOptions.percentage=t,d=Z(t),n=ee(t)):"type"===e&&(m.parallaxOptions.type=t,f=t),oe()},i.applyProperties=ye,i.afterSlideLoads=function(e){var t,n=void 0!==e?e:v(L,v(b)[0])[0],o=Y(n,E);if((s?(t=o,v(y,t).length?v(y,t):[t]):v(A,o)).forEach(function(e){P(e,"fp-bg-animate")}),(W||l)&&(ie(n),W=!1),!k){var i=Q(H)[f].offsetNormal,a=n,r=H?j(a):J(a);(f===M&&H||f===N&&!H||G)&&r.forEach(function(e){Le(e,i,"silent")})}},i.afterLoad=function(){if((!m.scrollBar||!m.autoScrolling||g.usingExtension("dragAndMove"))&&((_||l)&&(oe(),_=!1),!F)){var t=K(B)[f].offsetNormal,e=B?j(v(b)[0]):J(v(b)[0]);(f===M&&B||f===N&&!B)&&e.forEach(function(e){ye(e,t,"silent")})}},i.c=g.c;var Ae=i["common".charAt(0)];return"complete"===document.readyState&&Ae("parallax"),window.addEventListener("load",function(){Ae("parallax")}),i};